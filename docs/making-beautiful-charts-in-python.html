<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Making beautiful charts in Python | Python Cookbook for the Casual Dabbler</title>
  <meta name="description" content="A quick-start guide for non-experts using python for data analysis." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Making beautiful charts in Python | Python Cookbook for the Casual Dabbler" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A quick-start guide for non-experts using python for data analysis." />
  <meta name="github-repo" content="openscapes/series" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Making beautiful charts in Python | Python Cookbook for the Casual Dabbler" />
  
  <meta name="twitter:description" content="A quick-start guide for non-experts using python for data analysis." />
  

<meta name="author" content="Charles Coverdale" />


<meta name="date" content="2022-04-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="making-maps-with-python.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python Cookbook for the Casual Dabbler</a></li> 

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#using-this-book"><i class="fa fa-check"></i><b>1.1</b> Using this book<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#additional-resources"><i class="fa fa-check"></i><b>1.2</b> Additional resources<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#limitations"><i class="fa fa-check"></i><b>1.3</b> Limitations<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#why-write-a-python-book-using-the-r-publishing-language"><i class="fa fa-check"></i><b>1.4</b> Why write a python book using the R publishing language?<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i><b>1.5</b> About the author<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html"><i class="fa fa-check"></i><b>2</b> Making beautiful charts in Python<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#importing-python-packages"><i class="fa fa-check"></i><b>2.1</b> Importing python packages<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#reading-and-cleaning-data"><i class="fa fa-check"></i><b>2.2</b> Reading and cleaning data<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#line-charts"><i class="fa fa-check"></i><b>2.3</b> Line charts<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#bar-charts"><i class="fa fa-check"></i><b>2.4</b> Bar charts<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#stacked-bar-charts"><i class="fa fa-check"></i><b>2.5</b> Stacked bar charts<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#line-charts-from-raw-data"><i class="fa fa-check"></i><b>2.6</b> Line charts (from raw data)<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#scatter-plot"><i class="fa fa-check"></i><b>2.7</b> Scatter plot<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#histogram"><i class="fa fa-check"></i><b>2.8</b> Histogram<span></span></a></li>
<li class="chapter" data-level="2.9" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#multiple-charts-in-single-plot"><i class="fa fa-check"></i><b>2.9</b> Multiple charts in single plot<span></span></a></li>
<li class="chapter" data-level="2.10" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#annotating-charts"><i class="fa fa-check"></i><b>2.10</b> Annotating charts<span></span></a></li>
<li class="chapter" data-level="2.11" data-path="making-beautiful-charts-in-python.html"><a href="making-beautiful-charts-in-python.html#mimicking-the-economist"><i class="fa fa-check"></i><b>2.11</b> Mimicking The Economist<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="making-maps-with-python.html"><a href="making-maps-with-python.html"><i class="fa fa-check"></i><b>3</b> Making maps with python<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="making-maps-with-python.html"><a href="making-maps-with-python.html#importing-python-packages-1"><i class="fa fa-check"></i><b>3.1</b> Importing python packages<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="making-maps-with-python.html"><a href="making-maps-with-python.html#making-simple-maps-with-geopandas"><i class="fa fa-check"></i><b>3.2</b> Making simple maps with geopandas<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="making-maps-with-python.html"><a href="making-maps-with-python.html#geocoding-address-data"><i class="fa fa-check"></i><b>3.3</b> Geocoding address data<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="making-maps-with-python.html"><a href="making-maps-with-python.html#open-street-map"><i class="fa fa-check"></i><b>3.4</b> Open Street Map<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>4</b> Hypothesis testing<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#importing-a-new-module"><i class="fa fa-check"></i><b>4.1</b> Importing a new module<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#importing-python-packages-2"><i class="fa fa-check"></i><b>4.2</b> Importing python packages<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#correlation"><i class="fa fa-check"></i><b>4.3</b> Correlation<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#stationary-tests"><i class="fa fa-check"></i><b>4.4</b> Stationary tests<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#t-test-of-the-sample-mean"><i class="fa fa-check"></i><b>4.5</b> t-test of the sample mean<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#testing-for-normality"><i class="fa fa-check"></i><b>4.6</b> Testing for normality<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="regression-analysis.html"><a href="regression-analysis.html"><i class="fa fa-check"></i><b>5</b> Regression analysis<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="regression-analysis.html"><a href="regression-analysis.html#importing-python-packages-3"><i class="fa fa-check"></i><b>5.1</b> Importing python packages<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="regression-analysis.html"><a href="regression-analysis.html#create-a-model-and-fit-it"><i class="fa fa-check"></i><b>5.2</b> Create a model and fit it<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="regression-analysis.html"><a href="regression-analysis.html#polynomial-regression"><i class="fa fa-check"></i><b>5.3</b> Polynomial regression<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://https://www.linkedin.com/in/charlescoverdale/" target="blank">Connect with me on linkedin</a></li>
<li><a href="https://github.com/charlescoverdale/pythoncasualdabbler" target="blank">Get the code on github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python Cookbook for the Casual Dabbler</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="making-beautiful-charts-in-python" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Making beautiful charts in Python<a href="making-beautiful-charts-in-python.html#making-beautiful-charts-in-python" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter contains the code for some of my most used charts and visualization techniques.</p>
<div id="importing-python-packages" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Importing python packages<a href="making-beautiful-charts-in-python.html#importing-python-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s load in some libraries that we will use again and again when making charts.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="making-beautiful-charts-in-python.html#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="making-beautiful-charts-in-python.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="making-beautiful-charts-in-python.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.dates <span class="im">as</span> mdates</span>
<span id="cb1-4"><a href="making-beautiful-charts-in-python.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="making-beautiful-charts-in-python.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="making-beautiful-charts-in-python.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statistics</span>
<span id="cb1-7"><a href="making-beautiful-charts-in-python.html#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="making-beautiful-charts-in-python.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> norm</span>
<span id="cb1-9"><a href="making-beautiful-charts-in-python.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.ticker <span class="im">import</span> EngFormatter, StrMethodFormatter</span></code></pre></div>
</div>
<div id="reading-and-cleaning-data" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Reading and cleaning data<a href="making-beautiful-charts-in-python.html#reading-and-cleaning-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s start by importing data from a csv and making it usable. In this example, we’ll use the weather profile from 2019 in Melbourne, Australia.</p>
<p>We’ll also create a new column for a rolling average of the temperature.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="making-beautiful-charts-in-python.html#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="making-beautiful-charts-in-python.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Note non-ascii character in csv will stuff up the import, so we add this term: encoding=&#39;unicode_escape&#39;</span></span>
<span id="cb2-3"><a href="making-beautiful-charts-in-python.html#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="making-beautiful-charts-in-python.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: The full file location is this:</span></span>
<span id="cb2-5"><a href="making-beautiful-charts-in-python.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># /Users/charlescoverdale/Documents/2021/Python_code_projects/learning_journal_v0-1/MEL_weather_2019.csv</span></span>
<span id="cb2-6"><a href="making-beautiful-charts-in-python.html#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="making-beautiful-charts-in-python.html#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Import csv</span></span>
<span id="cb2-8"><a href="making-beautiful-charts-in-python.html#cb2-8" aria-hidden="true" tabindex="-1"></a>df_weather<span class="op">=</span> pd.read_csv(<span class="st">&quot;MEL_weather_2019.csv&quot;</span>,encoding<span class="op">=</span><span class="st">&#39;unicode_escape&#39;</span>)</span>
<span id="cb2-9"><a href="making-beautiful-charts-in-python.html#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="making-beautiful-charts-in-python.html#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single data column and bind to df</span></span>
<span id="cb2-11"><a href="making-beautiful-charts-in-python.html#cb2-11" aria-hidden="true" tabindex="-1"></a>df_weather[<span class="st">&#39;Date&#39;</span>] <span class="op">=</span> pd.to_datetime(df_weather[[<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;Month&#39;</span>, <span class="st">&#39;Day&#39;</span>]])</span>
<span id="cb2-12"><a href="making-beautiful-charts-in-python.html#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="making-beautiful-charts-in-python.html#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the original three field date columns</span></span>
<span id="cb2-14"><a href="making-beautiful-charts-in-python.html#cb2-14" aria-hidden="true" tabindex="-1"></a>df_weather <span class="op">=</span> df_weather.drop(columns<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;Month&#39;</span>, <span class="st">&#39;Day&#39;</span>])</span>
<span id="cb2-15"><a href="making-beautiful-charts-in-python.html#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="making-beautiful-charts-in-python.html#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s change the name of the solar exposure column</span></span>
<span id="cb2-17"><a href="making-beautiful-charts-in-python.html#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="making-beautiful-charts-in-python.html#cb2-18" aria-hidden="true" tabindex="-1"></a>df_weather <span class="op">=</span> df_weather.rename({<span class="st">&#39;Daily global solar exposure (MJ/m*m)&#39;</span>:<span class="st">&#39;Solar_exposure&#39;</span>, </span>
<span id="cb2-19"><a href="making-beautiful-charts-in-python.html#cb2-19" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&#39;Rainfall amount (millimetres)&#39;</span>:<span class="st">&#39;Rainfall&#39;</span>,</span>
<span id="cb2-20"><a href="making-beautiful-charts-in-python.html#cb2-20" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&#39;Maximum temperature (°C)&#39;</span>: <span class="st">&#39;Max_temp&#39;</span>},</span>
<span id="cb2-21"><a href="making-beautiful-charts-in-python.html#cb2-21" aria-hidden="true" tabindex="-1"></a>                                 axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb2-22"><a href="making-beautiful-charts-in-python.html#cb2-22" aria-hidden="true" tabindex="-1"></a>                                 </span>
<span id="cb2-23"><a href="making-beautiful-charts-in-python.html#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Add a rolling average</span></span>
<span id="cb2-24"><a href="making-beautiful-charts-in-python.html#cb2-24" aria-hidden="true" tabindex="-1"></a>df_weather[<span class="st">&#39;Rolling_avg&#39;</span>] <span class="op">=</span> df_weather[<span class="st">&#39;Max_temp&#39;</span>].rolling(window<span class="op">=</span><span class="dv">7</span>).mean()</span>
<span id="cb2-25"><a href="making-beautiful-charts-in-python.html#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="making-beautiful-charts-in-python.html#cb2-26" aria-hidden="true" tabindex="-1"></a>df_weather.head()</span></code></pre></div>
</div>
<div id="line-charts" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Line charts<a href="making-beautiful-charts-in-python.html#line-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that the data is in a reasonable format (e.g. there is a simple to use ‘Date’ column), let’s go ahead and make a line chart.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="making-beautiful-charts-in-python.html#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="making-beautiful-charts-in-python.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now let&#39;s plot maximum temperature on a line chart</span></span>
<span id="cb3-3"><a href="making-beautiful-charts-in-python.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="making-beautiful-charts-in-python.html#cb3-4" aria-hidden="true" tabindex="-1"></a>plt.plot(df_weather[<span class="st">&#39;Date&#39;</span>], df_weather[<span class="st">&#39;Max_temp&#39;</span>], </span>
<span id="cb3-5"><a href="making-beautiful-charts-in-python.html#cb3-5" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="st">&#39;Maximum temperature&#39;</span>, </span>
<span id="cb3-6"><a href="making-beautiful-charts-in-python.html#cb3-6" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, </span>
<span id="cb3-7"><a href="making-beautiful-charts-in-python.html#cb3-7" aria-hidden="true" tabindex="-1"></a>        alpha<span class="op">=</span><span class="fl">0.2</span>, </span>
<span id="cb3-8"><a href="making-beautiful-charts-in-python.html#cb3-8" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="fl">1.0</span>,</span>
<span id="cb3-9"><a href="making-beautiful-charts-in-python.html#cb3-9" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="st">&#39;&#39;</span>)</span>
<span id="cb3-10"><a href="making-beautiful-charts-in-python.html#cb3-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-11"><a href="making-beautiful-charts-in-python.html#cb3-11" aria-hidden="true" tabindex="-1"></a>plt.plot(df_weather[<span class="st">&#39;Date&#39;</span>], df_weather[<span class="st">&#39;Rolling_avg&#39;</span>], </span>
<span id="cb3-12"><a href="making-beautiful-charts-in-python.html#cb3-12" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="st">&#39;7-day moving average&#39;</span>,</span>
<span id="cb3-13"><a href="making-beautiful-charts-in-python.html#cb3-13" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;red&#39;</span>, </span>
<span id="cb3-14"><a href="making-beautiful-charts-in-python.html#cb3-14" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="fl">1.0</span>,</span>
<span id="cb3-15"><a href="making-beautiful-charts-in-python.html#cb3-15" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="st">&#39;&#39;</span>)</span>
<span id="cb3-16"><a href="making-beautiful-charts-in-python.html#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="making-beautiful-charts-in-python.html#cb3-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Maximum temperature in Melbourne (2019)&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb3-18"><a href="making-beautiful-charts-in-python.html#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="making-beautiful-charts-in-python.html#cb3-19" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;&#39;</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb3-20"><a href="making-beautiful-charts-in-python.html#cb3-20" aria-hidden="true" tabindex="-1"></a>plt.gca().xaxis.set_major_formatter(mdates.DateFormatter(<span class="st">&#39;%b&#39;</span>))</span>
<span id="cb3-21"><a href="making-beautiful-charts-in-python.html#cb3-21" aria-hidden="true" tabindex="-1"></a>plt.gca().xaxis.set_major_locator(mdates.MonthLocator(interval<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb3-22"><a href="making-beautiful-charts-in-python.html#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.margins(x=0)</span></span>
<span id="cb3-23"><a href="making-beautiful-charts-in-python.html#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="making-beautiful-charts-in-python.html#cb3-24" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;&#39;</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb3-25"><a href="making-beautiful-charts-in-python.html#cb3-25" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.set_major_formatter(StrMethodFormatter(<span class="st">u&quot;</span><span class="sc">{x:.0f}</span><span class="st">°C&quot;</span>))</span>
<span id="cb3-26"><a href="making-beautiful-charts-in-python.html#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="making-beautiful-charts-in-python.html#cb3-27" aria-hidden="true" tabindex="-1"></a>plt.gca().spines[<span class="st">&#39;top&#39;</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb3-28"><a href="making-beautiful-charts-in-python.html#cb3-28" aria-hidden="true" tabindex="-1"></a>plt.gca().spines[<span class="st">&#39;bottom&#39;</span>].set_visible(<span class="va">True</span>)</span>
<span id="cb3-29"><a href="making-beautiful-charts-in-python.html#cb3-29" aria-hidden="true" tabindex="-1"></a>plt.gca().spines[<span class="st">&#39;right&#39;</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb3-30"><a href="making-beautiful-charts-in-python.html#cb3-30" aria-hidden="true" tabindex="-1"></a>plt.gca().spines[<span class="st">&#39;left&#39;</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb3-31"><a href="making-beautiful-charts-in-python.html#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="making-beautiful-charts-in-python.html#cb3-32" aria-hidden="true" tabindex="-1"></a>plt.tick_params(</span>
<span id="cb3-33"><a href="making-beautiful-charts-in-python.html#cb3-33" aria-hidden="true" tabindex="-1"></a>    axis<span class="op">=</span><span class="st">&#39;x&#39;</span>,          <span class="co"># changes apply to the x-axis</span></span>
<span id="cb3-34"><a href="making-beautiful-charts-in-python.html#cb3-34" aria-hidden="true" tabindex="-1"></a>    which<span class="op">=</span><span class="st">&#39;both&#39;</span>,      <span class="co"># both major and minor ticks are affected</span></span>
<span id="cb3-35"><a href="making-beautiful-charts-in-python.html#cb3-35" aria-hidden="true" tabindex="-1"></a>    bottom<span class="op">=</span><span class="va">False</span>,      <span class="co"># ticks along the bottom edge are off</span></span>
<span id="cb3-36"><a href="making-beautiful-charts-in-python.html#cb3-36" aria-hidden="true" tabindex="-1"></a>    top<span class="op">=</span><span class="va">False</span>,         <span class="co"># ticks along the top edge are off</span></span>
<span id="cb3-37"><a href="making-beautiful-charts-in-python.html#cb3-37" aria-hidden="true" tabindex="-1"></a>    labelbottom<span class="op">=</span><span class="va">True</span>)  <span class="co"># labels along the bottom edge are off</span></span>
<span id="cb3-38"><a href="making-beautiful-charts-in-python.html#cb3-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-39"><a href="making-beautiful-charts-in-python.html#cb3-39" aria-hidden="true" tabindex="-1"></a>plt.tick_params(</span>
<span id="cb3-40"><a href="making-beautiful-charts-in-python.html#cb3-40" aria-hidden="true" tabindex="-1"></a>    axis<span class="op">=</span><span class="st">&#39;y&#39;</span>,          <span class="co"># changes apply to the y-axis</span></span>
<span id="cb3-41"><a href="making-beautiful-charts-in-python.html#cb3-41" aria-hidden="true" tabindex="-1"></a>    which<span class="op">=</span><span class="st">&#39;both&#39;</span>,      <span class="co"># both major and minor ticks are affected</span></span>
<span id="cb3-42"><a href="making-beautiful-charts-in-python.html#cb3-42" aria-hidden="true" tabindex="-1"></a>    left<span class="op">=</span><span class="va">False</span>,      <span class="co"># ticks along the bottom edge are off</span></span>
<span id="cb3-43"><a href="making-beautiful-charts-in-python.html#cb3-43" aria-hidden="true" tabindex="-1"></a>    right<span class="op">=</span><span class="va">False</span>,         <span class="co"># ticks along the top edge are off</span></span>
<span id="cb3-44"><a href="making-beautiful-charts-in-python.html#cb3-44" aria-hidden="true" tabindex="-1"></a>    labelleft<span class="op">=</span><span class="va">True</span>)  <span class="co"># labels along the bottom edge are off    </span></span>
<span id="cb3-45"><a href="making-beautiful-charts-in-python.html#cb3-45" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-46"><a href="making-beautiful-charts-in-python.html#cb3-46" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">False</span>)</span>
<span id="cb3-47"><a href="making-beautiful-charts-in-python.html#cb3-47" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.grid(<span class="va">True</span>)</span>
<span id="cb3-48"><a href="making-beautiful-charts-in-python.html#cb3-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-49"><a href="making-beautiful-charts-in-python.html#cb3-49" aria-hidden="true" tabindex="-1"></a>plt.legend(fancybox<span class="op">=</span><span class="va">False</span>, framealpha<span class="op">=</span><span class="dv">1</span>, shadow<span class="op">=</span><span class="va">False</span>, borderpad<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-50"><a href="making-beautiful-charts-in-python.html#cb3-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-51"><a href="making-beautiful-charts-in-python.html#cb3-51" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">&#39;weather_chart_save.png&#39;</span>,dpi<span class="op">=</span><span class="dv">300</span>,bbox_inches<span class="op">=</span><span class="st">&#39;tight&#39;</span>)</span>
<span id="cb3-52"><a href="making-beautiful-charts-in-python.html#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="making-beautiful-charts-in-python.html#cb3-53" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="bar-charts" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Bar charts<a href="making-beautiful-charts-in-python.html#bar-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="making-beautiful-charts-in-python.html#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="making-beautiful-charts-in-python.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Chart 1: Bar plot</span></span>
<span id="cb4-3"><a href="making-beautiful-charts-in-python.html#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="making-beautiful-charts-in-python.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get data</span></span>
<span id="cb4-5"><a href="making-beautiful-charts-in-python.html#cb4-5" aria-hidden="true" tabindex="-1"></a>country <span class="op">=</span> [<span class="st">&#39;USA&#39;</span>, <span class="st">&#39;Canada&#39;</span>, <span class="st">&#39;Germany&#39;</span>, <span class="st">&#39;UK&#39;</span>, <span class="st">&#39;France&#39;</span>]</span>
<span id="cb4-6"><a href="making-beautiful-charts-in-python.html#cb4-6" aria-hidden="true" tabindex="-1"></a>GDP_per_capita <span class="op">=</span> [<span class="dv">45</span>,<span class="dv">40</span>,<span class="dv">38</span>,<span class="dv">16</span>,<span class="dv">10</span>]</span>
<span id="cb4-7"><a href="making-beautiful-charts-in-python.html#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="making-beautiful-charts-in-python.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot</span></span>
<span id="cb4-9"><a href="making-beautiful-charts-in-python.html#cb4-9" aria-hidden="true" tabindex="-1"></a>plt.bar(country, GDP_per_capita, width<span class="op">=</span><span class="fl">0.8</span>, align<span class="op">=</span><span class="st">&#39;center&#39;</span>,color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, edgecolor <span class="op">=</span> <span class="st">&#39;black&#39;</span>)</span>
<span id="cb4-10"><a href="making-beautiful-charts-in-python.html#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="making-beautiful-charts-in-python.html#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Labels and titles</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="making-beautiful-charts-in-python.html#cb5-1" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;GDP per capita of select OECD countries&#39;</span>)</span>
<span id="cb5-2"><a href="making-beautiful-charts-in-python.html#cb5-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Test x label&#39;</span>)</span>
<span id="cb5-3"><a href="making-beautiful-charts-in-python.html#cb5-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;&#39;</span>)</span>
<span id="cb5-4"><a href="making-beautiful-charts-in-python.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="making-beautiful-charts-in-python.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#A dd bar annotations to barchart</span></span>
<span id="cb5-6"><a href="making-beautiful-charts-in-python.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Location for the annotated text</span></span>
<span id="cb5-7"><a href="making-beautiful-charts-in-python.html#cb5-7" aria-hidden="true" tabindex="-1"></a>i <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb5-8"><a href="making-beautiful-charts-in-python.html#cb5-8" aria-hidden="true" tabindex="-1"></a>j <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb5-9"><a href="making-beautiful-charts-in-python.html#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="making-beautiful-charts-in-python.html#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Annotating the bar plot with the values (total death count)</span></span>
<span id="cb5-11"><a href="making-beautiful-charts-in-python.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(country)):</span>
<span id="cb5-12"><a href="making-beautiful-charts-in-python.html#cb5-12" aria-hidden="true" tabindex="-1"></a>    plt.annotate(GDP_per_capita[i], (<span class="op">-</span><span class="fl">0.1</span> <span class="op">+</span> i, GDP_per_capita[i] <span class="op">+</span> j))</span>
<span id="cb5-13"><a href="making-beautiful-charts-in-python.html#cb5-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-14"><a href="making-beautiful-charts-in-python.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the legend of the bars in the plot</span></span>
<span id="cb5-15"><a href="making-beautiful-charts-in-python.html#cb5-15" aria-hidden="true" tabindex="-1"></a>plt.legend(labels <span class="op">=</span> [<span class="st">&#39;GDP_per_capita&#39;</span>]) </span>
<span id="cb5-16"><a href="making-beautiful-charts-in-python.html#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="making-beautiful-charts-in-python.html#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove y the axis</span></span>
<span id="cb5-18"><a href="making-beautiful-charts-in-python.html#cb5-18" aria-hidden="true" tabindex="-1"></a>plt.yticks([])</span>
<span id="cb5-19"><a href="making-beautiful-charts-in-python.html#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="making-beautiful-charts-in-python.html#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="making-beautiful-charts-in-python.html#cb6-1" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">&#39;test_bar_plot.png&#39;</span>,dpi<span class="op">=</span><span class="dv">300</span>,bbox_inches<span class="op">=</span><span class="st">&#39;tight&#39;</span>)</span>
<span id="cb6-2"><a href="making-beautiful-charts-in-python.html#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="making-beautiful-charts-in-python.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot</span></span>
<span id="cb6-4"><a href="making-beautiful-charts-in-python.html#cb6-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb6-5"><a href="making-beautiful-charts-in-python.html#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="making-beautiful-charts-in-python.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Saving the plot as a &#39;png&#39;</span></span>
<span id="cb6-7"><a href="making-beautiful-charts-in-python.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.savefig(&#39;testbarplot.png&#39;)</span></span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
</div>
<div id="stacked-bar-charts" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Stacked bar charts<a href="making-beautiful-charts-in-python.html#stacked-bar-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="making-beautiful-charts-in-python.html#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="making-beautiful-charts-in-python.html#cb7-2" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&#39;Group 1&#39;</span>, <span class="st">&#39;Group 2&#39;</span>, <span class="st">&#39;Group 3&#39;</span>, <span class="st">&#39;Group 4&#39;</span>, <span class="st">&#39;Group 5&#39;</span>]</span>
<span id="cb7-3"><a href="making-beautiful-charts-in-python.html#cb7-3" aria-hidden="true" tabindex="-1"></a>men_means <span class="op">=</span> [<span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">27</span>]</span>
<span id="cb7-4"><a href="making-beautiful-charts-in-python.html#cb7-4" aria-hidden="true" tabindex="-1"></a>women_means <span class="op">=</span> [<span class="dv">25</span>, <span class="dv">32</span>, <span class="dv">34</span>, <span class="dv">20</span>, <span class="dv">25</span>]</span>
<span id="cb7-5"><a href="making-beautiful-charts-in-python.html#cb7-5" aria-hidden="true" tabindex="-1"></a>men_std <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb7-6"><a href="making-beautiful-charts-in-python.html#cb7-6" aria-hidden="true" tabindex="-1"></a>women_std <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>]</span>
<span id="cb7-7"><a href="making-beautiful-charts-in-python.html#cb7-7" aria-hidden="true" tabindex="-1"></a>width <span class="op">=</span> <span class="fl">0.7</span>       <span class="co"># the width of the bars: can also be len(x) sequence</span></span>
<span id="cb7-8"><a href="making-beautiful-charts-in-python.html#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="making-beautiful-charts-in-python.html#cb7-9" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb7-10"><a href="making-beautiful-charts-in-python.html#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="making-beautiful-charts-in-python.html#cb7-11" aria-hidden="true" tabindex="-1"></a>ax.bar(labels, men_means, width, yerr<span class="op">=</span>men_std, label<span class="op">=</span><span class="st">&#39;Men&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="making-beautiful-charts-in-python.html#cb8-1" aria-hidden="true" tabindex="-1"></a>ax.bar(labels, women_means, width, yerr<span class="op">=</span>women_std, bottom<span class="op">=</span>men_means,</span>
<span id="cb8-2"><a href="making-beautiful-charts-in-python.html#cb8-2" aria-hidden="true" tabindex="-1"></a>       label<span class="op">=</span><span class="st">&#39;Women&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="making-beautiful-charts-in-python.html#cb9-1" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">&#39;Scores&#39;</span>)</span>
<span id="cb9-2"><a href="making-beautiful-charts-in-python.html#cb9-2" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">&#39;Scores by group and gender&#39;</span>)</span>
<span id="cb9-3"><a href="making-beautiful-charts-in-python.html#cb9-3" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb9-4"><a href="making-beautiful-charts-in-python.html#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="making-beautiful-charts-in-python.html#cb9-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-5-5.png" width="672" /></p>
</div>
<div id="line-charts-from-raw-data" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Line charts (from raw data)<a href="making-beautiful-charts-in-python.html#line-charts-from-raw-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="making-beautiful-charts-in-python.html#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="making-beautiful-charts-in-python.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> mtick</span>
<span id="cb10-3"><a href="making-beautiful-charts-in-python.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="making-beautiful-charts-in-python.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: you can also get the same result without using a pandas dataframe</span></span>
<span id="cb10-5"><a href="making-beautiful-charts-in-python.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Year = [1920,1930,1940,1950,1960,1970,1980,1990,2000,2010]</span></span>
<span id="cb10-6"><a href="making-beautiful-charts-in-python.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Unemployment_Rate = [9.8,12,8,7.2,6.9,7,6.5,6.2,5.5,6.3]</span></span>
<span id="cb10-7"><a href="making-beautiful-charts-in-python.html#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="making-beautiful-charts-in-python.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Using a pandas dataframe</span></span>
<span id="cb10-9"><a href="making-beautiful-charts-in-python.html#cb10-9" aria-hidden="true" tabindex="-1"></a>Data <span class="op">=</span> {<span class="st">&#39;Year&#39;</span>: [<span class="dv">1920</span>,<span class="dv">1930</span>,<span class="dv">1940</span>,<span class="dv">1950</span>,<span class="dv">1960</span>,<span class="dv">1970</span>,<span class="dv">1980</span>,<span class="dv">1990</span>,<span class="dv">2000</span>,<span class="dv">2010</span>],</span>
<span id="cb10-10"><a href="making-beautiful-charts-in-python.html#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;Unemployment_Rate&#39;</span>: [<span class="fl">9.8</span>,<span class="dv">12</span>,<span class="dv">8</span>,<span class="fl">7.2</span>,<span class="fl">6.9</span>,<span class="dv">7</span>,<span class="fl">6.5</span>,<span class="fl">6.2</span>,<span class="fl">5.5</span>,<span class="fl">6.3</span>]</span>
<span id="cb10-11"><a href="making-beautiful-charts-in-python.html#cb10-11" aria-hidden="true" tabindex="-1"></a>       }</span>
<span id="cb10-12"><a href="making-beautiful-charts-in-python.html#cb10-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-13"><a href="making-beautiful-charts-in-python.html#cb10-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(Data,columns<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>,<span class="st">&#39;Unemployment_Rate&#39;</span>])</span>
<span id="cb10-14"><a href="making-beautiful-charts-in-python.html#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="making-beautiful-charts-in-python.html#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Add in a % sign to a new variable</span></span>
<span id="cb10-16"><a href="making-beautiful-charts-in-python.html#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#df[&#39;Unemployment_Rate_Percent&#39;] = df[&#39;Unemployment_Rate&#39;].astype(str) + &#39;%&#39;</span></span>
<span id="cb10-17"><a href="making-beautiful-charts-in-python.html#cb10-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-18"><a href="making-beautiful-charts-in-python.html#cb10-18" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Year&#39;</span>], df[<span class="st">&#39;Unemployment_Rate&#39;</span>], color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb10-19"><a href="making-beautiful-charts-in-python.html#cb10-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Unemployment rate (1920-2010)&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb10-20"><a href="making-beautiful-charts-in-python.html#cb10-20" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb10-21"><a href="making-beautiful-charts-in-python.html#cb10-21" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb10-22"><a href="making-beautiful-charts-in-python.html#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.grid(False)</span></span>
<span id="cb10-23"><a href="making-beautiful-charts-in-python.html#cb10-23" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.grid(<span class="va">True</span>)</span>
<span id="cb10-24"><a href="making-beautiful-charts-in-python.html#cb10-24" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.set_major_formatter(mtick.PercentFormatter())</span>
<span id="cb10-25"><a href="making-beautiful-charts-in-python.html#cb10-25" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-6-7.png" width="672" /></p>
</div>
<div id="scatter-plot" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Scatter plot<a href="making-beautiful-charts-in-python.html#scatter-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="making-beautiful-charts-in-python.html#cb11-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-2"><a href="making-beautiful-charts-in-python.html#cb11-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span>[<span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">2</span>, <span class="dv">9</span>,</span>
<span id="cb11-3"><a href="making-beautiful-charts-in-python.html#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">9</span>, <span class="dv">6</span>] </span>
<span id="cb11-4"><a href="making-beautiful-charts-in-python.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-5"><a href="making-beautiful-charts-in-python.html#cb11-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span>[<span class="dv">99</span>, <span class="dv">86</span>, <span class="dv">87</span>, <span class="dv">88</span>, <span class="dv">100</span>, <span class="dv">86</span>, </span>
<span id="cb11-6"><a href="making-beautiful-charts-in-python.html#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">103</span>, <span class="dv">87</span>, <span class="dv">94</span>, <span class="dv">78</span>, <span class="dv">77</span>, <span class="dv">85</span>, <span class="dv">86</span>]</span>
<span id="cb11-7"><a href="making-beautiful-charts-in-python.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-8"><a href="making-beautiful-charts-in-python.html#cb11-8" aria-hidden="true" tabindex="-1"></a>plt.scatter(x, y, c <span class="op">=</span><span class="st">&quot;blue&quot;</span>)</span>
<span id="cb11-9"><a href="making-beautiful-charts-in-python.html#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="making-beautiful-charts-in-python.html#cb11-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Scatterplot title&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb11-11"><a href="making-beautiful-charts-in-python.html#cb11-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;x label&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb11-12"><a href="making-beautiful-charts-in-python.html#cb11-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;y label&#39;</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb11-13"><a href="making-beautiful-charts-in-python.html#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="making-beautiful-charts-in-python.html#cb11-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-7-9.png" width="672" /></p>
</div>
<div id="histogram" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Histogram<a href="making-beautiful-charts-in-python.html#histogram" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="making-beautiful-charts-in-python.html#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="making-beautiful-charts-in-python.html#cb12-2" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">99</span>)</span>
<span id="cb12-3"><a href="making-beautiful-charts-in-python.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="making-beautiful-charts-in-python.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the format np.random.normal(mu, sigma, 1000)</span></span>
<span id="cb12-5"><a href="making-beautiful-charts-in-python.html#cb12-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.random.normal(<span class="dv">0</span>,<span class="dv">1</span>,size<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb12-6"><a href="making-beautiful-charts-in-python.html#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="making-beautiful-charts-in-python.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use density=False for counts, and density=True for probability</span></span>
<span id="cb12-8"><a href="making-beautiful-charts-in-python.html#cb12-8" aria-hidden="true" tabindex="-1"></a>plt.hist(x, density<span class="op">=</span><span class="va">False</span>, bins<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb12-9"><a href="making-beautiful-charts-in-python.html#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="making-beautiful-charts-in-python.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot mean line</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="making-beautiful-charts-in-python.html#cb13-1" aria-hidden="true" tabindex="-1"></a>plt.axvline(x.mean(), color<span class="op">=</span><span class="st">&#39;k&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;dashed&#39;</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-2"><a href="making-beautiful-charts-in-python.html#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="making-beautiful-charts-in-python.html#cb13-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Probability&#39;</span>)</span>
<span id="cb13-4"><a href="making-beautiful-charts-in-python.html#cb13-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Mean&#39;</span>)<span class="op">;</span></span>
<span id="cb13-5"><a href="making-beautiful-charts-in-python.html#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="making-beautiful-charts-in-python.html#cb13-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-8-11.png" width="672" /></p>
</div>
<div id="multiple-charts-in-single-plot" class="section level2 hasAnchor" number="2.9">
<h2><span class="header-section-number">2.9</span> Multiple charts in single plot<a href="making-beautiful-charts-in-python.html#multiple-charts-in-single-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="making-beautiful-charts-in-python.html#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="making-beautiful-charts-in-python.html#cb14-2" aria-hidden="true" tabindex="-1"></a>fig, (ax,ax2) <span class="op">=</span> plt.subplots(ncols<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb14-3"><a href="making-beautiful-charts-in-python.html#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="making-beautiful-charts-in-python.html#cb14-4" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">0</span>,<span class="dv">1</span>],[<span class="op">-</span><span class="dv">35</span>,<span class="dv">30</span>])</span>
<span id="cb14-5"><a href="making-beautiful-charts-in-python.html#cb14-5" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_major_formatter(EngFormatter(unit<span class="op">=</span><span class="st">u&quot;°C&quot;</span>))</span>
<span id="cb14-6"><a href="making-beautiful-charts-in-python.html#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="making-beautiful-charts-in-python.html#cb14-7" aria-hidden="true" tabindex="-1"></a>ax2.plot([<span class="dv">0</span>,<span class="dv">1</span>],[<span class="op">-</span><span class="dv">35</span>,<span class="dv">30</span>])</span>
<span id="cb14-8"><a href="making-beautiful-charts-in-python.html#cb14-8" aria-hidden="true" tabindex="-1"></a>ax2.yaxis.set_major_formatter(StrMethodFormatter(<span class="st">u&quot;</span><span class="sc">{x:.0f}</span><span class="st"> °C&quot;</span>))</span>
<span id="cb14-9"><a href="making-beautiful-charts-in-python.html#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="making-beautiful-charts-in-python.html#cb14-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb14-11"><a href="making-beautiful-charts-in-python.html#cb14-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-9-13.png" width="672" /></p>
</div>
<div id="annotating-charts" class="section level2 hasAnchor" number="2.10">
<h2><span class="header-section-number">2.10</span> Annotating charts<a href="making-beautiful-charts-in-python.html#annotating-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Example taken from the wonderful blog at <a href="https://practicaleconomics.org/stylised-stylized-economics-charts-in-python-matplotlib-part-1/">Practical Economics</a>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="making-beautiful-charts-in-python.html#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="making-beautiful-charts-in-python.html#cb15-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Employment Impact of a Minimum Wage&#39;</span>)</span>
<span id="cb15-3"><a href="making-beautiful-charts-in-python.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="making-beautiful-charts-in-python.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set limits of chart</span></span>
<span id="cb15-5"><a href="making-beautiful-charts-in-python.html#cb15-5" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">10</span>,<span class="dv">70</span>)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="making-beautiful-charts-in-python.html#cb16-1" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">130</span>,<span class="dv">200</span>)</span>
<span id="cb16-2"><a href="making-beautiful-charts-in-python.html#cb16-2" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb16-3"><a href="making-beautiful-charts-in-python.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wage supply floor</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="making-beautiful-charts-in-python.html#cb17-1" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">10</span>,<span class="dv">30</span>],[<span class="dv">150</span>,<span class="dv">150</span>],color<span class="op">=</span><span class="st">&#39;orange&#39;</span>)</span>
<span id="cb17-2"><a href="making-beautiful-charts-in-python.html#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="fl">10.5</span>,<span class="fl">140.0</span>,<span class="st">&quot;Marginal</span><span class="ch">\n</span><span class="st">Disutility</span><span class="ch">\n</span><span class="st">of Labour&quot;</span>,size<span class="op">=</span><span class="dv">8</span>,color<span class="op">=</span><span class="st">&#39;black&#39;</span>)</span>
<span id="cb17-3"><a href="making-beautiful-charts-in-python.html#cb17-3" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb17-4"><a href="making-beautiful-charts-in-python.html#cb17-4" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb17-5"><a href="making-beautiful-charts-in-python.html#cb17-5" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">10</span>,<span class="dv">40</span>],[<span class="dv">160</span>,<span class="dv">160</span>],color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>,linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>)</span>
<span id="cb17-6"><a href="making-beautiful-charts-in-python.html#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">40</span>,<span class="dv">40</span>],[<span class="dv">130</span>,<span class="dv">160</span>],color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>,linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>)</span>
<span id="cb17-7"><a href="making-beautiful-charts-in-python.html#cb17-7" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb17-8"><a href="making-beautiful-charts-in-python.html#cb17-8" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb17-9"><a href="making-beautiful-charts-in-python.html#cb17-9" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">&#39;&#39;</span>, xy<span class="op">=</span>(<span class="dv">30</span>,<span class="dv">138</span>),xytext<span class="op">=</span>(<span class="dv">40</span>,<span class="dv">138</span>),arrowprops <span class="op">=</span> <span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">&#39;&lt;-&gt;&#39;</span>))</span>
<span id="cb17-10"><a href="making-beautiful-charts-in-python.html#cb17-10" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">31</span>,<span class="dv">140</span>,<span class="st">&quot;Employment</span><span class="ch">\n</span><span class="st">Loss&quot;</span>,size<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">&#39;k&#39;</span>)</span>
<span id="cb17-11"><a href="making-beautiful-charts-in-python.html#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="making-beautiful-charts-in-python.html#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="making-beautiful-charts-in-python.html#cb17-13" aria-hidden="true" tabindex="-1"></a>plt.axhspan(<span class="dv">170</span>,<span class="dv">150</span>,xmin<span class="op">=</span><span class="fl">0.0</span>,xmax<span class="op">=</span><span class="dv">20</span><span class="op">/</span><span class="dv">60</span>,alpha<span class="op">=</span><span class="fl">0.9</span>,color<span class="op">=</span><span class="st">&#39;dodgerblue&#39;</span>)</span>
<span id="cb17-14"><a href="making-beautiful-charts-in-python.html#cb17-14" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">&#39;Additional Surplus to</span><span class="ch">\n</span><span class="st">Employed&#39;</span>, xy<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">162</span>),xytext<span class="op">=</span>(<span class="dv">30</span>,<span class="dv">185</span>),arrowprops <span class="op">=</span> <span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">&#39;-&gt;&#39;</span>))</span>
<span id="cb17-15"><a href="making-beautiful-charts-in-python.html#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="making-beautiful-charts-in-python.html#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Deadweight loss triangles</span></span>
<span id="cb17-17"><a href="making-beautiful-charts-in-python.html#cb17-17" aria-hidden="true" tabindex="-1"></a>trianglex<span class="op">=</span>[<span class="dv">30</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">30</span>]</span>
<span id="cb17-18"><a href="making-beautiful-charts-in-python.html#cb17-18" aria-hidden="true" tabindex="-1"></a>triangley<span class="op">=</span>[<span class="dv">150</span>,<span class="dv">170</span>,<span class="dv">160</span>,<span class="dv">150</span>]</span>
<span id="cb17-19"><a href="making-beautiful-charts-in-python.html#cb17-19" aria-hidden="true" tabindex="-1"></a>plt.plot(trianglex,triangley, color<span class="op">=</span><span class="st">&#39;grey&#39;</span>)</span>
<span id="cb17-20"><a href="making-beautiful-charts-in-python.html#cb17-20" aria-hidden="true" tabindex="-1"></a>plt.fill(trianglex,triangley,color<span class="op">=</span><span class="st">&#39;grey&#39;</span>)</span>
<span id="cb17-21"><a href="making-beautiful-charts-in-python.html#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="making-beautiful-charts-in-python.html#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Main box</span></span>
<span id="cb17-23"><a href="making-beautiful-charts-in-python.html#cb17-23" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">10</span>,<span class="dv">30</span>],[<span class="dv">170</span>,<span class="dv">170</span>],<span class="st">&#39;tab:orange&#39;</span>)</span>
<span id="cb17-24"><a href="making-beautiful-charts-in-python.html#cb17-24" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">30</span>,<span class="dv">30</span>],[<span class="dv">130</span>,<span class="dv">170</span>],<span class="st">&#39;tab:green&#39;</span>)</span>
<span id="cb17-25"><a href="making-beautiful-charts-in-python.html#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.plot([50,50],[130,170],&#39;tab:red&#39;)</span></span>
<span id="cb17-26"><a href="making-beautiful-charts-in-python.html#cb17-26" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">11</span>,<span class="dv">171</span>,<span class="st">&quot;Wage Rate&quot;</span>,size<span class="op">=</span><span class="dv">8</span>,color<span class="op">=</span><span class="st">&#39;black&#39;</span>)</span>
<span id="cb17-27"><a href="making-beautiful-charts-in-python.html#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="making-beautiful-charts-in-python.html#cb17-28" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">&#39;Deadweight</span><span class="ch">\n</span><span class="st">Loss&#39;</span>, xy<span class="op">=</span>(<span class="dv">32</span>,<span class="dv">162</span>),xytext<span class="op">=</span>(<span class="dv">38</span>,<span class="dv">175</span>),arrowprops <span class="op">=</span> <span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">&#39;-&gt;&#39;</span>))</span>
<span id="cb17-29"><a href="making-beautiful-charts-in-python.html#cb17-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-30"><a href="making-beautiful-charts-in-python.html#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="co">#Labour Demand Curve</span></span>
<span id="cb17-31"><a href="making-beautiful-charts-in-python.html#cb17-31" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">20</span>,<span class="dv">60</span>],[<span class="dv">180</span>,<span class="dv">140</span>],color<span class="op">=</span><span class="st">&#39;tab:grey&#39;</span>)</span>
<span id="cb17-32"><a href="making-beautiful-charts-in-python.html#cb17-32" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">61</span>,<span class="dv">135</span>,<span class="st">&quot;Marginal</span><span class="ch">\n</span><span class="st">Product</span><span class="ch">\n</span><span class="st">of Labour</span><span class="ch">\n</span><span class="st">Demand&quot;</span>,size<span class="op">=</span><span class="dv">8</span>,color<span class="op">=</span><span class="st">&#39;black&#39;</span>)</span>
<span id="cb17-33"><a href="making-beautiful-charts-in-python.html#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="making-beautiful-charts-in-python.html#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="co">#Labour Supply Curve</span></span>
<span id="cb17-35"><a href="making-beautiful-charts-in-python.html#cb17-35" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">20</span>,<span class="dv">60</span>],[<span class="dv">140</span>,<span class="dv">180</span>],color<span class="op">=</span><span class="st">&#39;tab:grey&#39;</span>)</span>
<span id="cb17-36"><a href="making-beautiful-charts-in-python.html#cb17-36" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">61</span>,<span class="dv">180</span>,<span class="st">&quot;Labour</span><span class="ch">\n</span><span class="st">Supply&quot;</span>,size<span class="op">=</span><span class="dv">8</span>,color<span class="op">=</span><span class="st">&#39;k&#39;</span>)</span>
<span id="cb17-37"><a href="making-beautiful-charts-in-python.html#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="making-beautiful-charts-in-python.html#cb17-38" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-10-15.png" width="672" /></p>
</div>
<div id="mimicking-the-economist" class="section level2 hasAnchor" number="2.11">
<h2><span class="header-section-number">2.11</span> Mimicking The Economist<a href="making-beautiful-charts-in-python.html#mimicking-the-economist" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The visual storytelling team at The Economist is absolutely world class. Their team is quite public about how they use both R and Python in their data science.</p>
<p><a href="https://towardsdatascience.com/making-economist-style-plots-in-matplotlib-e7de6d679739">Robert Ritz</a> has done an outstanding job at <a href="https://deepnote.com/@robertritz/Making-Economist-Style-Plots-in-Matplotlib-5RPoDvmqT0u3iqwkaNJJkw">documenting</a> how you can use their style when making charts.</p>
<p>The <a href="https://www.kaggle.com/datasets/holoong9291/gdp-of-all-countries19602020">dataset</a> we’ll use is the GDP records from 1960-2020.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="making-beautiful-charts-in-python.html#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="making-beautiful-charts-in-python.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-3"><a href="making-beautiful-charts-in-python.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb18-4"><a href="making-beautiful-charts-in-python.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb18-5"><a href="making-beautiful-charts-in-python.html#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="making-beautiful-charts-in-python.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># This makes out plots higher resolution, which makes them easier to see while building</span></span>
<span id="cb18-7"><a href="making-beautiful-charts-in-python.html#cb18-7" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">&#39;figure.dpi&#39;</span>] <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb18-8"><a href="making-beautiful-charts-in-python.html#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="making-beautiful-charts-in-python.html#cb18-9" aria-hidden="true" tabindex="-1"></a>gdp <span class="op">=</span> pd.read_csv(<span class="st">&#39;data/gdp_1960_2020.csv&#39;</span>)</span>
<span id="cb18-10"><a href="making-beautiful-charts-in-python.html#cb18-10" aria-hidden="true" tabindex="-1"></a>gdp.head()</span>
<span id="cb18-11"><a href="making-beautiful-charts-in-python.html#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="making-beautiful-charts-in-python.html#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co"># The GDP numbers here are very long. To make them easier to read we can divide the GDP number by 1 trillion.</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="making-beautiful-charts-in-python.html#cb19-1" aria-hidden="true" tabindex="-1"></a>gdp[<span class="st">&#39;gdp_trillions&#39;</span>] <span class="op">=</span> gdp[<span class="st">&#39;gdp&#39;</span>] <span class="op">/</span> <span class="dv">1_000_000_000_000</span></span>
<span id="cb19-2"><a href="making-beautiful-charts-in-python.html#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="making-beautiful-charts-in-python.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we can filter for only 2020 and grab the bottom 9. We do this instead of sorting by descending because Matplotlib plots from the bottom to top, so we actually want our data in reverse order.</span></span>
<span id="cb19-4"><a href="making-beautiful-charts-in-python.html#cb19-4" aria-hidden="true" tabindex="-1"></a>gdp[gdp[<span class="st">&#39;year&#39;</span>] <span class="op">==</span> <span class="dv">2020</span>].sort_values(by<span class="op">=</span><span class="st">&#39;gdp_trillions&#39;</span>)[<span class="op">-</span><span class="dv">9</span>:]</span>
<span id="cb19-5"><a href="making-beautiful-charts-in-python.html#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="making-beautiful-charts-in-python.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup plot size.</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="making-beautiful-charts-in-python.html#cb20-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">3</span>,<span class="dv">6</span>))</span>
<span id="cb20-2"><a href="making-beautiful-charts-in-python.html#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="making-beautiful-charts-in-python.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create grid </span></span>
<span id="cb20-4"><a href="making-beautiful-charts-in-python.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Zorder tells it which layer to put it on. We are setting this to 1 and our data to 2 so the grid is behind the data.</span></span>
<span id="cb20-5"><a href="making-beautiful-charts-in-python.html#cb20-5" aria-hidden="true" tabindex="-1"></a>ax.grid(which<span class="op">=</span><span class="st">&quot;major&quot;</span>, axis<span class="op">=</span><span class="st">&#39;x&#39;</span>, color<span class="op">=</span><span class="st">&#39;#758D99&#39;</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, zorder<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-6"><a href="making-beautiful-charts-in-python.html#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="making-beautiful-charts-in-python.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove splines. Can be done one at a time or can slice with a list.</span></span>
<span id="cb20-8"><a href="making-beautiful-charts-in-python.html#cb20-8" aria-hidden="true" tabindex="-1"></a>ax.spines[[<span class="st">&#39;top&#39;</span>,<span class="st">&#39;right&#39;</span>,<span class="st">&#39;bottom&#39;</span>]].set_visible(<span class="va">False</span>)</span>
<span id="cb20-9"><a href="making-beautiful-charts-in-python.html#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="making-beautiful-charts-in-python.html#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Make left spine slightly thicker</span></span>
<span id="cb20-11"><a href="making-beautiful-charts-in-python.html#cb20-11" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">&#39;left&#39;</span>].set_linewidth(<span class="fl">1.1</span>)</span>
<span id="cb20-12"><a href="making-beautiful-charts-in-python.html#cb20-12" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">&#39;left&#39;</span>].set_linewidth(<span class="fl">1.1</span>)</span>
<span id="cb20-13"><a href="making-beautiful-charts-in-python.html#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="making-beautiful-charts-in-python.html#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup data</span></span>
<span id="cb20-15"><a href="making-beautiful-charts-in-python.html#cb20-15" aria-hidden="true" tabindex="-1"></a>gdp[<span class="st">&#39;country&#39;</span>] <span class="op">=</span> gdp[<span class="st">&#39;country&#39;</span>].replace(<span class="st">&#39;the United States&#39;</span>, <span class="st">&#39;United States&#39;</span>)</span>
<span id="cb20-16"><a href="making-beautiful-charts-in-python.html#cb20-16" aria-hidden="true" tabindex="-1"></a>gdp_bar <span class="op">=</span> gdp[gdp[<span class="st">&#39;year&#39;</span>] <span class="op">==</span> <span class="dv">2020</span>].sort_values(by<span class="op">=</span><span class="st">&#39;gdp_trillions&#39;</span>)[<span class="op">-</span><span class="dv">9</span>:]</span>
<span id="cb20-17"><a href="making-beautiful-charts-in-python.html#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="making-beautiful-charts-in-python.html#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb20-19"><a href="making-beautiful-charts-in-python.html#cb20-19" aria-hidden="true" tabindex="-1"></a>ax.barh(gdp_bar[<span class="st">&#39;country&#39;</span>], gdp_bar[<span class="st">&#39;gdp_trillions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#006BA2&#39;</span>, zorder<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb20-20"><a href="making-beautiful-charts-in-python.html#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="making-beautiful-charts-in-python.html#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Set custom labels for x-axis</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="making-beautiful-charts-in-python.html#cb21-1" aria-hidden="true" tabindex="-1"></a>ax.set_xticks([<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>])</span>
<span id="cb21-2"><a href="making-beautiful-charts-in-python.html#cb21-2" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels([<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>])</span>
<span id="cb21-3"><a href="making-beautiful-charts-in-python.html#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="making-beautiful-charts-in-python.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reformat x-axis tick labels</span></span>
<span id="cb21-5"><a href="making-beautiful-charts-in-python.html#cb21-5" aria-hidden="true" tabindex="-1"></a>ax.xaxis.set_tick_params(labeltop<span class="op">=</span><span class="va">True</span>,      <span class="co"># Put x-axis labels on top</span></span>
<span id="cb21-6"><a href="making-beautiful-charts-in-python.html#cb21-6" aria-hidden="true" tabindex="-1"></a>                         labelbottom<span class="op">=</span><span class="va">False</span>,  <span class="co"># Set no x-axis labels on bottom</span></span>
<span id="cb21-7"><a href="making-beautiful-charts-in-python.html#cb21-7" aria-hidden="true" tabindex="-1"></a>                         bottom<span class="op">=</span><span class="va">False</span>,       <span class="co"># Set no ticks on bottom</span></span>
<span id="cb21-8"><a href="making-beautiful-charts-in-python.html#cb21-8" aria-hidden="true" tabindex="-1"></a>                         labelsize<span class="op">=</span><span class="dv">11</span>,       <span class="co"># Set tick label size</span></span>
<span id="cb21-9"><a href="making-beautiful-charts-in-python.html#cb21-9" aria-hidden="true" tabindex="-1"></a>                         pad<span class="op">=-</span><span class="dv">1</span>)             <span class="co"># Lower tick labels a bit</span></span>
<span id="cb21-10"><a href="making-beautiful-charts-in-python.html#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="making-beautiful-charts-in-python.html#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Reformat y-axis tick labels</span></span>
<span id="cb21-12"><a href="making-beautiful-charts-in-python.html#cb21-12" aria-hidden="true" tabindex="-1"></a>ax.set_yticklabels(gdp_bar[<span class="st">&#39;country&#39;</span>],      <span class="co"># Set labels again</span></span>
<span id="cb21-13"><a href="making-beautiful-charts-in-python.html#cb21-13" aria-hidden="true" tabindex="-1"></a>                   ha <span class="op">=</span> <span class="st">&#39;left&#39;</span>)              <span class="co"># Set horizontal alignment to left</span></span>
<span id="cb21-14"><a href="making-beautiful-charts-in-python.html#cb21-14" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_tick_params(pad<span class="op">=</span><span class="dv">100</span>,            <span class="co"># Pad tick labels so they don&#39;t go over y-axis</span></span>
<span id="cb21-15"><a href="making-beautiful-charts-in-python.html#cb21-15" aria-hidden="true" tabindex="-1"></a>                         labelsize<span class="op">=</span><span class="dv">11</span>,       <span class="co"># Set label size</span></span>
<span id="cb21-16"><a href="making-beautiful-charts-in-python.html#cb21-16" aria-hidden="true" tabindex="-1"></a>                         bottom<span class="op">=</span><span class="va">False</span>)       <span class="co"># Set no ticks on bottom/left</span></span>
<span id="cb21-17"><a href="making-beautiful-charts-in-python.html#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="making-beautiful-charts-in-python.html#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Shrink y-lim to make plot a bit tighter</span></span>
<span id="cb21-19"><a href="making-beautiful-charts-in-python.html#cb21-19" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="op">-</span><span class="fl">0.5</span>, <span class="fl">8.5</span>)</span>
<span id="cb21-20"><a href="making-beautiful-charts-in-python.html#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="making-beautiful-charts-in-python.html#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in line and tag</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="making-beautiful-charts-in-python.html#cb22-1" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="op">-</span><span class="fl">.35</span>, <span class="fl">.87</span>],                 <span class="co"># Set width of line</span></span>
<span id="cb22-2"><a href="making-beautiful-charts-in-python.html#cb22-2" aria-hidden="true" tabindex="-1"></a>        [<span class="fl">1.02</span>, <span class="fl">1.02</span>],                <span class="co"># Set height of line</span></span>
<span id="cb22-3"><a href="making-beautiful-charts-in-python.html#cb22-3" aria-hidden="true" tabindex="-1"></a>        transform<span class="op">=</span>fig.transFigure,   <span class="co"># Set location relative to plot</span></span>
<span id="cb22-4"><a href="making-beautiful-charts-in-python.html#cb22-4" aria-hidden="true" tabindex="-1"></a>        clip_on<span class="op">=</span><span class="va">False</span>, </span>
<span id="cb22-5"><a href="making-beautiful-charts-in-python.html#cb22-5" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;#E3120B&#39;</span>, </span>
<span id="cb22-6"><a href="making-beautiful-charts-in-python.html#cb22-6" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="fl">.6</span>)</span>
<span id="cb22-7"><a href="making-beautiful-charts-in-python.html#cb22-7" aria-hidden="true" tabindex="-1"></a>ax.add_patch(plt.Rectangle((<span class="op">-</span><span class="fl">.35</span>,<span class="fl">1.02</span>),                <span class="co"># Set location of rectangle by lower left corder</span></span>
<span id="cb22-8"><a href="making-beautiful-charts-in-python.html#cb22-8" aria-hidden="true" tabindex="-1"></a>                           <span class="fl">0.12</span>,                       <span class="co"># Width of rectangle</span></span>
<span id="cb22-9"><a href="making-beautiful-charts-in-python.html#cb22-9" aria-hidden="true" tabindex="-1"></a>                           <span class="op">-</span><span class="fl">0.02</span>,                      <span class="co"># Height of rectangle. Negative so it goes down.</span></span>
<span id="cb22-10"><a href="making-beautiful-charts-in-python.html#cb22-10" aria-hidden="true" tabindex="-1"></a>                           facecolor<span class="op">=</span><span class="st">&#39;#E3120B&#39;</span>, </span>
<span id="cb22-11"><a href="making-beautiful-charts-in-python.html#cb22-11" aria-hidden="true" tabindex="-1"></a>                           transform<span class="op">=</span>fig.transFigure, </span>
<span id="cb22-12"><a href="making-beautiful-charts-in-python.html#cb22-12" aria-hidden="true" tabindex="-1"></a>                           clip_on<span class="op">=</span><span class="va">False</span>, </span>
<span id="cb22-13"><a href="making-beautiful-charts-in-python.html#cb22-13" aria-hidden="true" tabindex="-1"></a>                           linewidth <span class="op">=</span> <span class="dv">0</span>))</span>
<span id="cb22-14"><a href="making-beautiful-charts-in-python.html#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="making-beautiful-charts-in-python.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in title and subtitle</span></span>
<span id="cb22-16"><a href="making-beautiful-charts-in-python.html#cb22-16" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=-</span><span class="fl">.35</span>, y<span class="op">=</span><span class="fl">.96</span>, s<span class="op">=</span><span class="st">&quot;The big leagues&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">13</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>, alpha<span class="op">=</span><span class="fl">.8</span>)</span>
<span id="cb22-17"><a href="making-beautiful-charts-in-python.html#cb22-17" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=-</span><span class="fl">.35</span>, y<span class="op">=</span><span class="fl">.925</span>, s<span class="op">=</span><span class="st">&quot;2020 GDP, trillions of USD&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">11</span>, alpha<span class="op">=</span><span class="fl">.8</span>)</span>
<span id="cb22-18"><a href="making-beautiful-charts-in-python.html#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="making-beautiful-charts-in-python.html#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Set source text</span></span>
<span id="cb22-20"><a href="making-beautiful-charts-in-python.html#cb22-20" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=-</span><span class="fl">.35</span>, y<span class="op">=</span><span class="fl">.08</span>, s<span class="op">=</span><span class="st">&quot;&quot;&quot;Source: &quot;GDP of all countries(1960-2020)&quot;&quot;&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">9</span>, alpha<span class="op">=</span><span class="fl">.7</span>)</span>
<span id="cb22-21"><a href="making-beautiful-charts-in-python.html#cb22-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-22"><a href="making-beautiful-charts-in-python.html#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Export plot as high resolution PNG</span></span>
<span id="cb22-23"><a href="making-beautiful-charts-in-python.html#cb22-23" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">&#39;docs/economist_bar.png&#39;</span>,    <span class="co"># Set path and filename</span></span>
<span id="cb22-24"><a href="making-beautiful-charts-in-python.html#cb22-24" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">300</span>,                     <span class="co"># Set dots per inch</span></span>
<span id="cb22-25"><a href="making-beautiful-charts-in-python.html#cb22-25" aria-hidden="true" tabindex="-1"></a>            bbox_inches<span class="op">=</span><span class="st">&quot;tight&quot;</span>,           <span class="co"># Remove extra whitespace around plot</span></span>
<span id="cb22-26"><a href="making-beautiful-charts-in-python.html#cb22-26" aria-hidden="true" tabindex="-1"></a>            facecolor<span class="op">=</span><span class="st">&#39;white&#39;</span>)             <span class="co"># Set background color to white</span></span>
<span id="cb22-27"><a href="making-beautiful-charts-in-python.html#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="making-beautiful-charts-in-python.html#cb22-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-29"><a href="making-beautiful-charts-in-python.html#cb22-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-11-17.png" width="288" /></p>
<p>We can do a similar process for line charts.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="making-beautiful-charts-in-python.html#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="making-beautiful-charts-in-python.html#cb23-2" aria-hidden="true" tabindex="-1"></a>countries <span class="op">=</span> gdp[gdp[<span class="st">&#39;year&#39;</span>] <span class="op">==</span> <span class="dv">2020</span>].sort_values(by<span class="op">=</span><span class="st">&#39;gdp_trillions&#39;</span>)[<span class="op">-</span><span class="dv">9</span>:][<span class="st">&#39;country&#39;</span>].values</span>
<span id="cb23-3"><a href="making-beautiful-charts-in-python.html#cb23-3" aria-hidden="true" tabindex="-1"></a>countries</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="making-beautiful-charts-in-python.html#cb24-1" aria-hidden="true" tabindex="-1"></a>gdp[<span class="st">&#39;date&#39;</span>] <span class="op">=</span> pd.to_datetime(gdp[<span class="st">&#39;year&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y&#39;</span>)</span>
<span id="cb24-2"><a href="making-beautiful-charts-in-python.html#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="making-beautiful-charts-in-python.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup plot size.</span></span>
<span id="cb24-4"><a href="making-beautiful-charts-in-python.html#cb24-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span>
<span id="cb24-5"><a href="making-beautiful-charts-in-python.html#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="making-beautiful-charts-in-python.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create grid </span></span>
<span id="cb24-7"><a href="making-beautiful-charts-in-python.html#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Zorder tells it which layer to put it on. We are setting this to 1 and our data to 2 so the grid is behind the data.</span></span>
<span id="cb24-8"><a href="making-beautiful-charts-in-python.html#cb24-8" aria-hidden="true" tabindex="-1"></a>ax.grid(which<span class="op">=</span><span class="st">&quot;major&quot;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;#758D99&#39;</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, zorder<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb24-9"><a href="making-beautiful-charts-in-python.html#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="making-beautiful-charts-in-python.html#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb24-11"><a href="making-beautiful-charts-in-python.html#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through country names and plot each one.</span></span>
<span id="cb24-12"><a href="making-beautiful-charts-in-python.html#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> country <span class="kw">in</span> countries:</span>
<span id="cb24-13"><a href="making-beautiful-charts-in-python.html#cb24-13" aria-hidden="true" tabindex="-1"></a>    ax.plot(gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> country][<span class="st">&#39;date&#39;</span>], </span>
<span id="cb24-14"><a href="making-beautiful-charts-in-python.html#cb24-14" aria-hidden="true" tabindex="-1"></a>            gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> country][<span class="st">&#39;gdp_trillions&#39;</span>], </span>
<span id="cb24-15"><a href="making-beautiful-charts-in-python.html#cb24-15" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">&#39;#758D99&#39;</span>, </span>
<span id="cb24-16"><a href="making-beautiful-charts-in-python.html#cb24-16" aria-hidden="true" tabindex="-1"></a>            alpha<span class="op">=</span><span class="fl">0.8</span>, </span>
<span id="cb24-17"><a href="making-beautiful-charts-in-python.html#cb24-17" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb24-18"><a href="making-beautiful-charts-in-python.html#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="making-beautiful-charts-in-python.html#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot US and China separately</span></span>
<span id="cb24-20"><a href="making-beautiful-charts-in-python.html#cb24-20" aria-hidden="true" tabindex="-1"></a>ax.plot(gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> <span class="st">&#39;United States&#39;</span>][<span class="st">&#39;date&#39;</span>], </span>
<span id="cb24-21"><a href="making-beautiful-charts-in-python.html#cb24-21" aria-hidden="true" tabindex="-1"></a>        gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> <span class="st">&#39;United States&#39;</span>][<span class="st">&#39;gdp_trillions&#39;</span>], </span>
<span id="cb24-22"><a href="making-beautiful-charts-in-python.html#cb24-22" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;#006BA2&#39;</span>,</span>
<span id="cb24-23"><a href="making-beautiful-charts-in-python.html#cb24-23" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb24-24"><a href="making-beautiful-charts-in-python.html#cb24-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-25"><a href="making-beautiful-charts-in-python.html#cb24-25" aria-hidden="true" tabindex="-1"></a>ax.plot(gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> <span class="st">&#39;China&#39;</span>][<span class="st">&#39;date&#39;</span>], </span>
<span id="cb24-26"><a href="making-beautiful-charts-in-python.html#cb24-26" aria-hidden="true" tabindex="-1"></a>        gdp[gdp[<span class="st">&#39;country&#39;</span>] <span class="op">==</span> <span class="st">&#39;China&#39;</span>][<span class="st">&#39;gdp_trillions&#39;</span>], </span>
<span id="cb24-27"><a href="making-beautiful-charts-in-python.html#cb24-27" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;#3EBCD2&#39;</span>,</span>
<span id="cb24-28"><a href="making-beautiful-charts-in-python.html#cb24-28" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb24-29"><a href="making-beautiful-charts-in-python.html#cb24-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-30"><a href="making-beautiful-charts-in-python.html#cb24-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove splines. Can be done one at a time or can slice with a list.</span></span>
<span id="cb24-31"><a href="making-beautiful-charts-in-python.html#cb24-31" aria-hidden="true" tabindex="-1"></a>ax.spines[[<span class="st">&#39;top&#39;</span>,<span class="st">&#39;right&#39;</span>,<span class="st">&#39;left&#39;</span>]].set_visible(<span class="va">False</span>)</span>
<span id="cb24-32"><a href="making-beautiful-charts-in-python.html#cb24-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-33"><a href="making-beautiful-charts-in-python.html#cb24-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Shrink y-lim to make plot a bit tigheter</span></span>
<span id="cb24-34"><a href="making-beautiful-charts-in-python.html#cb24-34" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="dv">23</span>)</span>
<span id="cb24-35"><a href="making-beautiful-charts-in-python.html#cb24-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-36"><a href="making-beautiful-charts-in-python.html#cb24-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Set xlim to fit data without going over plot area</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="making-beautiful-charts-in-python.html#cb25-1" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(pd.datetime(<span class="dv">1958</span>, <span class="dv">1</span>, <span class="dv">1</span>), pd.datetime(<span class="dv">2023</span>, <span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb25-2"><a href="making-beautiful-charts-in-python.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="making-beautiful-charts-in-python.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Reformat x-axis tick labels</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="making-beautiful-charts-in-python.html#cb26-1" aria-hidden="true" tabindex="-1"></a>ax.xaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">11</span>)        <span class="co"># Set tick label size</span></span>
<span id="cb26-2"><a href="making-beautiful-charts-in-python.html#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="making-beautiful-charts-in-python.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Reformat y-axis tick labels</span></span>
<span id="cb26-4"><a href="making-beautiful-charts-in-python.html#cb26-4" aria-hidden="true" tabindex="-1"></a>ax.set_yticklabels(np.arange(<span class="dv">0</span>,<span class="dv">25</span>,<span class="dv">5</span>),            <span class="co"># Set labels again</span></span>
<span id="cb26-5"><a href="making-beautiful-charts-in-python.html#cb26-5" aria-hidden="true" tabindex="-1"></a>                   ha <span class="op">=</span> <span class="st">&#39;right&#39;</span>,                 <span class="co"># Set horizontal alignment to right</span></span>
<span id="cb26-6"><a href="making-beautiful-charts-in-python.html#cb26-6" aria-hidden="true" tabindex="-1"></a>                   verticalalignment<span class="op">=</span><span class="st">&#39;bottom&#39;</span>)   <span class="co"># Set vertical alignment to make labels on top of gridline      </span></span>
<span id="cb26-7"><a href="making-beautiful-charts-in-python.html#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="making-beautiful-charts-in-python.html#cb26-8" aria-hidden="true" tabindex="-1"></a>ax.yaxis.set_tick_params(pad<span class="op">=-</span><span class="dv">2</span>,             <span class="co"># Pad tick labels so they don&#39;t go over y-axis</span></span>
<span id="cb26-9"><a href="making-beautiful-charts-in-python.html#cb26-9" aria-hidden="true" tabindex="-1"></a>                         labeltop<span class="op">=</span><span class="va">True</span>,      <span class="co"># Put x-axis labels on top</span></span>
<span id="cb26-10"><a href="making-beautiful-charts-in-python.html#cb26-10" aria-hidden="true" tabindex="-1"></a>                         labelbottom<span class="op">=</span><span class="va">False</span>,  <span class="co"># Set no x-axis labels on bottom</span></span>
<span id="cb26-11"><a href="making-beautiful-charts-in-python.html#cb26-11" aria-hidden="true" tabindex="-1"></a>                         bottom<span class="op">=</span><span class="va">False</span>,       <span class="co"># Set no ticks on bottom</span></span>
<span id="cb26-12"><a href="making-beautiful-charts-in-python.html#cb26-12" aria-hidden="true" tabindex="-1"></a>                         labelsize<span class="op">=</span><span class="dv">11</span>)       <span class="co"># Set tick label size</span></span>
<span id="cb26-13"><a href="making-beautiful-charts-in-python.html#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="making-beautiful-charts-in-python.html#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels for USA and China</span></span>
<span id="cb26-15"><a href="making-beautiful-charts-in-python.html#cb26-15" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="fl">.63</span>, y<span class="op">=</span><span class="fl">.67</span>, s<span class="op">=</span><span class="st">&#39;United States&#39;</span>, transform<span class="op">=</span>fig.transFigure, size<span class="op">=</span><span class="dv">10</span>, alpha<span class="op">=</span><span class="fl">.9</span>)</span>
<span id="cb26-16"><a href="making-beautiful-charts-in-python.html#cb26-16" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="fl">.7</span>, y<span class="op">=</span><span class="fl">.4</span>, s<span class="op">=</span><span class="st">&#39;China&#39;</span>, transform<span class="op">=</span>fig.transFigure, size<span class="op">=</span><span class="dv">10</span>, alpha<span class="op">=</span><span class="fl">.9</span>)</span>
<span id="cb26-17"><a href="making-beautiful-charts-in-python.html#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="making-beautiful-charts-in-python.html#cb26-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-19"><a href="making-beautiful-charts-in-python.html#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in line and tag</span></span>
<span id="cb26-20"><a href="making-beautiful-charts-in-python.html#cb26-20" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="fl">0.12</span>, <span class="fl">.9</span>],                  <span class="co"># Set width of line</span></span>
<span id="cb26-21"><a href="making-beautiful-charts-in-python.html#cb26-21" aria-hidden="true" tabindex="-1"></a>        [<span class="fl">.98</span>, <span class="fl">.98</span>],                  <span class="co"># Set height of line</span></span>
<span id="cb26-22"><a href="making-beautiful-charts-in-python.html#cb26-22" aria-hidden="true" tabindex="-1"></a>        transform<span class="op">=</span>fig.transFigure,   <span class="co"># Set location relative to plot</span></span>
<span id="cb26-23"><a href="making-beautiful-charts-in-python.html#cb26-23" aria-hidden="true" tabindex="-1"></a>        clip_on<span class="op">=</span><span class="va">False</span>, </span>
<span id="cb26-24"><a href="making-beautiful-charts-in-python.html#cb26-24" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">&#39;#E3120B&#39;</span>, </span>
<span id="cb26-25"><a href="making-beautiful-charts-in-python.html#cb26-25" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="fl">.6</span>)</span>
<span id="cb26-26"><a href="making-beautiful-charts-in-python.html#cb26-26" aria-hidden="true" tabindex="-1"></a>ax.add_patch(plt.Rectangle((<span class="fl">0.12</span>,<span class="fl">.98</span>),                 <span class="co"># Set location of rectangle by lower left corder</span></span>
<span id="cb26-27"><a href="making-beautiful-charts-in-python.html#cb26-27" aria-hidden="true" tabindex="-1"></a>                           <span class="fl">0.04</span>,                       <span class="co"># Width of rectangle</span></span>
<span id="cb26-28"><a href="making-beautiful-charts-in-python.html#cb26-28" aria-hidden="true" tabindex="-1"></a>                           <span class="op">-</span><span class="fl">0.02</span>,                      <span class="co"># Height of rectangle. Negative so it goes down.</span></span>
<span id="cb26-29"><a href="making-beautiful-charts-in-python.html#cb26-29" aria-hidden="true" tabindex="-1"></a>                           facecolor<span class="op">=</span><span class="st">&#39;#E3120B&#39;</span>, </span>
<span id="cb26-30"><a href="making-beautiful-charts-in-python.html#cb26-30" aria-hidden="true" tabindex="-1"></a>                           transform<span class="op">=</span>fig.transFigure, </span>
<span id="cb26-31"><a href="making-beautiful-charts-in-python.html#cb26-31" aria-hidden="true" tabindex="-1"></a>                           clip_on<span class="op">=</span><span class="va">False</span>, </span>
<span id="cb26-32"><a href="making-beautiful-charts-in-python.html#cb26-32" aria-hidden="true" tabindex="-1"></a>                           linewidth <span class="op">=</span> <span class="dv">0</span>))</span>
<span id="cb26-33"><a href="making-beautiful-charts-in-python.html#cb26-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-34"><a href="making-beautiful-charts-in-python.html#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in title and subtitle</span></span>
<span id="cb26-35"><a href="making-beautiful-charts-in-python.html#cb26-35" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="fl">0.12</span>, y<span class="op">=</span><span class="fl">.91</span>, s<span class="op">=</span><span class="st">&quot;Ahead of the pack&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">13</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>, alpha<span class="op">=</span><span class="fl">.8</span>)</span>
<span id="cb26-36"><a href="making-beautiful-charts-in-python.html#cb26-36" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="fl">0.12</span>, y<span class="op">=</span><span class="fl">.86</span>, s<span class="op">=</span><span class="st">&quot;Top 9 GDP&#39;s by country, in trillions of USD, 1960-2020&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">11</span>, alpha<span class="op">=</span><span class="fl">.8</span>)</span>
<span id="cb26-37"><a href="making-beautiful-charts-in-python.html#cb26-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-38"><a href="making-beautiful-charts-in-python.html#cb26-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Set source text</span></span>
<span id="cb26-39"><a href="making-beautiful-charts-in-python.html#cb26-39" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="fl">0.12</span>, y<span class="op">=</span><span class="fl">0.01</span>, s<span class="op">=</span><span class="st">&quot;&quot;&quot;Source: GDP of all countries(1960-2020)&quot;&quot;&quot;</span>, transform<span class="op">=</span>fig.transFigure, ha<span class="op">=</span><span class="st">&#39;left&#39;</span>, fontsize<span class="op">=</span><span class="dv">9</span>, alpha<span class="op">=</span><span class="fl">.7</span>)</span>
<span id="cb26-40"><a href="making-beautiful-charts-in-python.html#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="making-beautiful-charts-in-python.html#cb26-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Export plot as high resolution PNG</span></span>
<span id="cb26-42"><a href="making-beautiful-charts-in-python.html#cb26-42" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">&#39;docs/economist_line.png&#39;</span>,    <span class="co"># Set path and filename</span></span>
<span id="cb26-43"><a href="making-beautiful-charts-in-python.html#cb26-43" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">300</span>,                     <span class="co"># Set dots per inch</span></span>
<span id="cb26-44"><a href="making-beautiful-charts-in-python.html#cb26-44" aria-hidden="true" tabindex="-1"></a>            bbox_inches<span class="op">=</span><span class="st">&quot;tight&quot;</span>,           <span class="co"># Remove extra whitespace around plot</span></span>
<span id="cb26-45"><a href="making-beautiful-charts-in-python.html#cb26-45" aria-hidden="true" tabindex="-1"></a>            facecolor<span class="op">=</span><span class="st">&#39;white&#39;</span>)             <span class="co"># Set background color to white</span></span>
<span id="cb26-46"><a href="making-beautiful-charts-in-python.html#cb26-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-47"><a href="making-beautiful-charts-in-python.html#cb26-47" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="series_files/figure-html/unnamed-chunk-12-19.png" width="768" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="making-maps-with-python.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/charlescoverdale/casualdabbler/edit/master/02-charts.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
